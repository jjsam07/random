#include<linux/module.h>
#include<linux/init.h>
#include<linux/proc_fs.h>
#include<linux/sched.h>
#include<linux/uaccess.h>
#include<linux/fs.h>
#include<linux/seq_file.h>
#include<linux/slab.h>

/* Read-only registers
 *
 * 0, 1, 4, 31, 35, 38, 39, 40, 41, 44
 *
 */
 
#include "cp14.h"
#include "defs.h"

F_SHOW(0)
F_SHOW(1)
F_SHOW(2)
F_SHOW(3)
F_SHOW(4)
F_SHOW(5)
F_SHOW(6)
F_SHOW(7)
F_SHOW(8)
F_SHOW(9)
F_SHOW(10)
F_SHOW(11)
F_SHOW(12)
F_SHOW(13)
F_SHOW(14)
F_SHOW(15)
F_SHOW(16)
F_SHOW(17)
F_SHOW(18)
F_SHOW(19)
F_SHOW(20)
F_SHOW(21)
F_SHOW(22)
F_SHOW(23)
F_SHOW(24)
F_SHOW(25)
F_SHOW(26)
F_SHOW(27)
F_SHOW(28)
F_SHOW(29)
F_SHOW(30)
F_SHOW(31)
F_SHOW(32)
F_SHOW(33)
F_SHOW(34)
F_SHOW(35)
F_SHOW(36)
F_SHOW(37)
F_SHOW(38)
F_SHOW(39)
F_SHOW(40)
F_SHOW(41)
F_SHOW(42)
F_SHOW(43)
F_SHOW(44)

F_WRITE(0)
F_WRITE(1)
F_WRITE(2)
F_WRITE(3)
F_WRITE(4)
F_WRITE(5)
F_WRITE(6)
F_WRITE(7)
F_WRITE(8)
F_WRITE(9)
F_WRITE(10)
F_WRITE(11)
F_WRITE(12)
F_WRITE(13)
F_WRITE(14)
F_WRITE(15)
F_WRITE(16)
F_WRITE(17)
F_WRITE(18)
F_WRITE(19)
F_WRITE(20)
F_WRITE(21)
F_WRITE(22)
F_WRITE(23)
F_WRITE(24)
F_WRITE(25)
F_WRITE(26)
F_WRITE(27)
F_WRITE(28)
F_WRITE(29)
F_WRITE(30)
F_WRITE(31)
F_WRITE(32)
F_WRITE(33)
F_WRITE(34)
F_WRITE(35)
F_WRITE(36)
F_WRITE(37)
F_WRITE(38)
F_WRITE(39)
F_WRITE(40)
F_WRITE(41)
F_WRITE(42)
F_WRITE(43)
F_WRITE(44)

F_FUNC(0)
F_FUNC(1)
F_FUNC(2)
F_FUNC(3)
F_FUNC(4)
F_FUNC(5)
F_FUNC(6)
F_FUNC(7)
F_FUNC(8)
F_FUNC(9)
F_FUNC(10)
F_FUNC(11)
F_FUNC(12)
F_FUNC(13)
F_FUNC(14)
F_FUNC(15)
F_FUNC(16)
F_FUNC(17)
F_FUNC(18)
F_FUNC(19)
F_FUNC(20)
F_FUNC(21)
F_FUNC(22)
F_FUNC(23)
F_FUNC(24)
F_FUNC(25)
F_FUNC(26)
F_FUNC(27)
F_FUNC(28)
F_FUNC(29)
F_FUNC(30)
F_FUNC(31)
F_FUNC(32)
F_FUNC(33)
F_FUNC(34)
F_FUNC(35)
F_FUNC(36)
F_FUNC(37)
F_FUNC(38)
F_FUNC(39)
F_FUNC(40)
F_FUNC(41)
F_FUNC(42)
F_FUNC(43)
F_FUNC(44)

F_OPS(0)
F_OPS(1)
F_OPS(2)
F_OPS(3)
F_OPS(4)
F_OPS(5)
F_OPS(6)
F_OPS(7)
F_OPS(8)
F_OPS(9)
F_OPS(10)
F_OPS(11)
F_OPS(12)
F_OPS(13)
F_OPS(14)
F_OPS(15)
F_OPS(16)
F_OPS(17)
F_OPS(18)
F_OPS(19)
F_OPS(20)
F_OPS(21)
F_OPS(22)
F_OPS(23)
F_OPS(24)
F_OPS(25)
F_OPS(26)
F_OPS(27)
F_OPS(28)
F_OPS(29)
F_OPS(30)
F_OPS(31)
F_OPS(32)
F_OPS(33)
F_OPS(34)
F_OPS(35)
F_OPS(36)
F_OPS(37)
F_OPS(38)
F_OPS(39)
F_OPS(40)
F_OPS(41)
F_OPS(42)
F_OPS(43)
F_OPS(44)

static int __init hello_init(void){

	CREATE_ENRTY(0)
	CREATE_ENRTY(1)
	CREATE_ENRTY(2)
	CREATE_ENRTY(3)
	CREATE_ENRTY(4)
	CREATE_ENRTY(5)
	CREATE_ENRTY(6)
	CREATE_ENRTY(7)
	CREATE_ENRTY(8)
	CREATE_ENRTY(9)
	CREATE_ENRTY(10)
	CREATE_ENRTY(11)
	CREATE_ENRTY(12)
	CREATE_ENRTY(13)
	CREATE_ENRTY(14)
	CREATE_ENRTY(15)
	CREATE_ENRTY(16)
	CREATE_ENRTY(17)
	CREATE_ENRTY(18)
	CREATE_ENRTY(19)
	CREATE_ENRTY(20)
	CREATE_ENRTY(21)
	CREATE_ENRTY(22)
	CREATE_ENRTY(23)
	CREATE_ENRTY(24)
	CREATE_ENRTY(25)
	CREATE_ENRTY(26)
	CREATE_ENRTY(27)
	CREATE_ENRTY(28)
	CREATE_ENRTY(29)
	CREATE_ENRTY(30)
	CREATE_ENRTY(31)
	CREATE_ENRTY(32)
	CREATE_ENRTY(33)
	CREATE_ENRTY(34)
	CREATE_ENRTY(35)
	CREATE_ENRTY(36)
	CREATE_ENRTY(37)
	CREATE_ENRTY(38)
	CREATE_ENRTY(39)
	CREATE_ENRTY(40)
	CREATE_ENRTY(41)
	CREATE_ENRTY(42)
	CREATE_ENRTY(43)
	CREATE_ENRTY(44)
	SET_ENTRY(0)
	SET_ENTRY(1)
	SET_ENTRY(2)
	SET_ENTRY(3)
	SET_ENTRY(4)
	SET_ENTRY(5)
	SET_ENTRY(6)
	SET_ENTRY(7)
	SET_ENTRY(8)
	SET_ENTRY(9)
	SET_ENTRY(10)
	SET_ENTRY(11)
	SET_ENTRY(12)
	SET_ENTRY(13)
	SET_ENTRY(14)
	SET_ENTRY(15)
	SET_ENTRY(16)
	SET_ENTRY(17)
	SET_ENTRY(18)
	SET_ENTRY(19)
	SET_ENTRY(20)
	SET_ENTRY(21)
	SET_ENTRY(22)
	SET_ENTRY(23)
	SET_ENTRY(24)
	SET_ENTRY(25)
	SET_ENTRY(26)
	SET_ENTRY(27)
	SET_ENTRY(28)
	SET_ENTRY(29)
	SET_ENTRY(30)
	SET_ENTRY(31)
	SET_ENTRY(32)
	SET_ENTRY(33)
	SET_ENTRY(34)
	SET_ENTRY(35)
	SET_ENTRY(36)
	SET_ENTRY(37)
	SET_ENTRY(38)
	SET_ENTRY(39)
	SET_ENTRY(40)
	SET_ENTRY(41)
	SET_ENTRY(42)
	SET_ENTRY(43)
	SET_ENTRY(44)
	
	return 0;
}

static void __exit hello_exit(void){
	
	REMOVE_ENTRY(0)
	REMOVE_ENTRY(1)
	REMOVE_ENTRY(2)
	REMOVE_ENTRY(3)
	REMOVE_ENTRY(4)
	REMOVE_ENTRY(5)
	REMOVE_ENTRY(6)
	REMOVE_ENTRY(7)
	REMOVE_ENTRY(8)
	REMOVE_ENTRY(9)
	REMOVE_ENTRY(10)
	REMOVE_ENTRY(11)
	REMOVE_ENTRY(12)
	REMOVE_ENTRY(13)
	REMOVE_ENTRY(14)
	REMOVE_ENTRY(15)
	REMOVE_ENTRY(16)
	REMOVE_ENTRY(17)
	REMOVE_ENTRY(18)
	REMOVE_ENTRY(19)
	REMOVE_ENTRY(20)
	REMOVE_ENTRY(21)
	REMOVE_ENTRY(22)
	REMOVE_ENTRY(23)
	REMOVE_ENTRY(24)
	REMOVE_ENTRY(25)
	REMOVE_ENTRY(26)
	REMOVE_ENTRY(27)
	REMOVE_ENTRY(28)
	REMOVE_ENTRY(29)
	REMOVE_ENTRY(30)
	REMOVE_ENTRY(31)
	REMOVE_ENTRY(32)
	REMOVE_ENTRY(33)
	REMOVE_ENTRY(34)
	REMOVE_ENTRY(35)
	REMOVE_ENTRY(36)
	REMOVE_ENTRY(37)
	REMOVE_ENTRY(38)
	REMOVE_ENTRY(39)
	REMOVE_ENTRY(40)
	REMOVE_ENTRY(41)
	REMOVE_ENTRY(42)
	REMOVE_ENTRY(43)
	REMOVE_ENTRY(44)

	printk(KERN_INFO "Goodbye world!\n");
}

module_init(hello_init);
module_exit(hello_exit);
MODULE_LICENSE("GPL");